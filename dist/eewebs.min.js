var conn=null,signs=null,world_id=window.location.hash.substr(1);
window.location.hash?(PlayerIO.useSecureApiRequests=!0,PlayerIO.authenticate("everybody-edits-su9rn58o40itdbnw69plyw","simpleUsers",{username:"guest",password:"guest"},{},function(b){b.bigDB.load("config","config",function(d){b.multiplayer.useSecureConnections=!0;b.multiplayer.createJoinRoom(world_id,"Everybodyedits"+d.version,!0,null,null,function(a){conn=a;a.addMessageCallback("*",on_message);a.send("init")},callback_error)},callback_error)},callback_error)):alert("You must provide a world to load the webpage from!");
function on_message(b){if("init"==b.type){var d="";jsparse(b).filter(function(a){return 385==a.id}).sort(function(a,b){return a.x>b.x?1:0}).sort(function(a,b){return a.y>b.y?1:0}).forEach(function(a){d+=a.args[1]});document.getElementById("content").innerHTML+=d;conn.disconnect()}}function callback_error(b){console.log("error: "+b.code+": "+b.message)}
jsparse=function(b){var d=[];if("init"==b.type||"reset"==b.type){var a=b.length,c=[],g=[],e=b._internal_("get-objects");for(b=b._internal_("get-types");"we"!=e[--a];);for(;"ws"!=e[--a];)c.push(e[a]),g.push(b[a]);a=0;do{for(e=[];(7!=g[a]||7!=g[a+1]||0!=g[a+2]||1!=g[a+3])&&!(e.push(c[a++]),a>c.length););if(a<=c.length){b=c[a++];var h=c[a++],k=c[a++],l=c[a++];if(h.length==b.length)for(var f=0;f<h.length;f+=2)d.push({layer:k,id:l,args:e,x:h[f]<<8|h[f+1],y:b[f]<<8|b[f+1]})}}while(a<=c.length);return d}};